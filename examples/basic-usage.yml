name: Basic SBOM Dashboard
on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  sbom-dashboard:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Use existing SBOM files
        run: |
          # This example assumes you already have SBOM files in your repository
          # The action will find and parse existing SBOM files
          echo "Looking for existing SBOM files..."
          find . -name "*.cyclonedx.json" -o -name "*.spdx.json" -o -name "*.bom.json" | head -10
      
      - name: Generate SBOM Dashboard
        uses: sidbhasin13/sbom-ui-action@v1
        with:
          sbom-files: '**/*.cyclonedx.json,**/*.spdx.json'
          output-dir: 'sbom-dashboard'
          title: 'My Project SBOM Dashboard'
